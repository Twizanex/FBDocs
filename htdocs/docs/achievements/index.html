<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>https://developers.facebook.com/docs/achievements/</title>
<link rel="stylesheet" href="/css/common.css" media="screen" />
<script src="/js/common.js"></script>
</head>
<body>
<a id="oklahomer-orig-url" href="https://developers.facebook.com/docs/achievements/">https://developers.facebook.com/docs/achievements/</a>

<div id="oklahomer-menu-wrapper">
<div class="toplevelnav">
<ul>
<li class="active withsubsections">
<a class="selected" href="/docs/" name="https://developers.facebook.com/docs/">
<div class="navSectionTitle">Getting Started</div>
</a>
<ul class="subsections">
<li>
<a href="/docs/guides/web" name="https://developers.facebook.com/docs/guides/web">Websites</a>
</li>
<li>
<a href="/docs/guides/canvas" name="https://developers.facebook.com/docs/guides/canvas">Apps on Facebook</a>
</li>
<li>
<a href="/docs/guides/mobile" name="https://developers.facebook.com/docs/guides/mobile">Mobile</a>
</li>
<li>
<a href="/docs/appcenter/" name="https://developers.facebook.com/docs/appcenter/">App Center</a>
</li>
<li>
<a href="/docs/bestpractices/" name="https://developers.facebook.com/docs/bestpractices/">Best Practices</a>
</li>
<li>
<a href="/docs/samples" name="https://developers.facebook.com/docs/samples">Samples &amp; How-Tos</a>
</li>
<li>
<a href="/videos" name="https://developers.facebook.com/videos">Videos</a>
</li>
</ul>
</li>
<li>
<a href="/docs/coreconcepts" name="https://developers.facebook.com/docs/coreconcepts">
<div class="navSectionTitle">Core Concepts</div>
</a>
</li>
<li>
<a href="/docs/advancedtopics" name="https://developers.facebook.com/docs/advancedtopics">
<div class="navSectionTitle">Advanced Topics</div>
</a>
</li>
<li>
<a href="/docs/sdks" name="https://developers.facebook.com/docs/sdks">
<div class="navSectionTitle">SDK Reference</div>
</a>
</li>
<li>
<a href="/tools" name="https://developers.facebook.com/tools">
<div class="navSectionTitle">Tools</div>
</a>
</li>
</ul>
</div>
<ul id="navsubsectionpages">
<li>
</li>
<li>
<h5>Getting Started</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/appsonfacebook/tutorial/" name="http://developers.facebook.com/docs/appsonfacebook/tutorial/">Canvas Tutorial</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/guides/games/getting-started/" name="http://developers.facebook.com/docs/guides/games/getting-started/">Social Games Tutorial</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/guides/games/growth/" name="http://developers.facebook.com/docs/guides/games/growth/">Social Channels for Games</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/requests/" name="http://developers.facebook.com/docs/requests/">Requests Overview</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/appsonfacebook/pagetabs/" name="http://developers.facebook.com/docs/appsonfacebook/pagetabs/">Page Tab Tutorial</a>
</li>
</ul>
</li>
<li>
<h5>Best Practices</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/guides/games/auth/" name="http://developers.facebook.com/docs/guides/games/auth/">Authentication Pro-tips</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/guides/games/requests/" name="http://developers.facebook.com/docs/guides/games/requests/">Requests Pro-tips</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/guides/games/feed/" name="http://developers.facebook.com/docs/guides/games/feed/">Feed Pro-tips</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/guides/games/canvas/" name="http://developers.facebook.com/docs/guides/games/canvas/">Integrating with Canvas</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/guides/games/monetization/" name="http://developers.facebook.com/docs/guides/games/monetization/">Games Monetization</a>
</li>
</ul>
</li>
<li>
<h5>Showcase</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/arcadegames/" name="http://developers.facebook.com/docs/arcadegames/">Arcade Games</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/bingobash/" name="http://developers.facebook.com/docs/bingobash/">Bingo Bash</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/diamonddash/" name="http://developers.facebook.com/docs/diamonddash/">Diamond Dash</a>
</li>
<li>
<a href="http://developers.facebook.com/showcase/games/" name="http://developers.facebook.com/showcase/games/">Games Gallery</a>
</li>
</ul>
</li>
<li>
<h5>How Tos</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/fluidcanvas/" name="http://developers.facebook.com/docs/fluidcanvas/">Fluid Canvas</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/feed-gaming/" name="http://developers.facebook.com/docs/feed-gaming/">Feed Gaming</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/hideflashcallback/" name="http://developers.facebook.com/docs/hideflashcallback/">Flash wmode</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/guides/games/custom-muti-friend-selector/" name="http://developers.facebook.com/docs/guides/games/custom-muti-friend-selector/">Multi-Friend Selector</a>
</li>
</ul>
</li>
<li class="active">
<h5>Reference</h5>
<ul>
<li>
<a class="selected" href="http://developers.facebook.com/docs/achievements/" name="http://developers.facebook.com/docs/achievements/">Achievements</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/score/" name="http://developers.facebook.com/docs/score/">Scores</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reqests_dialog/" name="http://developers.facebook.com/docs/reqests_dialog/">Requests Dialog</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/fb_source/" name="http://developers.facebook.com/docs/fb_source/">fb_source Parameter</a>
</li>
</ul>
</li>
</ul></div>

<div id="oklahomer-content-wrapper">
<div class="header">
<div class="content">
<h1>Achievements</h1>
<div class="breadcrumbs">
<a href="/docs/" name="https://developers.facebook.com/docs/">Getting Started</a> › <a href="/docs/guides/canvas/" name="https://developers.facebook.com/docs/guides/canvas/">Apps on Facebook</a> › <a href="/docs/achievements/" name="https://developers.facebook.com/docs/achievements/">Achievements</a>
</div>
</div>
</div>
<p>The Graph API for achievements allows game developers to publish user achievements in their game to provide more meaningful and relevant stories.</p>
<p>
<strong>Note:</strong> This API is only available to applications categorized as &apos;Games&apos;. You can categorize your app as &apos;Games&apos; in the <a href="/apps" name="https://developers.facebook.com/apps">Developer app</a> by navigating to About &gt; Basic Info and selecting &apos;Games` in the drop down menu in the category field.</p>
<p>An app can define a set of achievements for their app using the <code>game.achievement</code> object type.</p>
<ul>
<li>Each achievement has points associated with it. </li>
<li>Each game gets a total of 1000 points to distribute across all their achievements. </li>
<li>Each game gets a maximum of 1000 achievements. </li>
<li>Achievements which are scarcer and have higher point values will receive more distribution. For example, achievements which have point values of less than 10 will get almost no distribution. Apps should aim for between 50-100 achievements consisting of a mix of 50 (difficult), 25 (medium), and 10 (easy) point value achievements. </li>
<li>One user can achieve a particular achievement for a game only once. </li>
<li>It is against policy to ever delete an achievement, except in the case of testing achievements.</li>
</ul>
<h2 id="define_achievements">Defining the set of achievements for a Game</h2>
<p>Each achievement must possess a unique URL with the appropriate <a href="/docs/opengraph" name="https://developers.facebook.com/docs/opengraph">Open Graph protocol</a> <code>&lt;meta&gt;</code> tags. We will scrape the achievement’s unique URL and use the information provided in the tags to generate the Ticker stories. The Ticker stories will redirect to the achievement’s unique URL.</p>
<p>When defining an Achievement URL consider that if your Achievement URL is a child of your <a href="https://developers.facebook.com/apps" name="https://developers.facebook.com/apps">Canvas URL</a>, the Achievement URL will automatically be re-written as child of your Canvas Page URL. This is to prevent a user from being redirected off <a href="/docs/appsonfacebook/tutorial/" name="https://developers.facebook.com/docs/appsonfacebook/tutorial/">Canvas</a> when clicking on an Achievement story in Ticker for a Canvas game.</p>
<p>For example, assume your game is hosted at <code>www.example.com/my_game/</code> and playable on Canvas at <code>apps.facebook.com/my_game/</code>:</p>
<ul>
<li>Registering an Achievement URL of <u>www.example.com/my_game/ach1.html</u> will be re-written to <u>apps.facebook.com/my_game/ach1.html</u>.</li>
<li>Registering an Achievement URL of <u>www.example.com/achievements/ach1.html</u> will <strong>not</strong> be re-written, as it is not a child of www.example.com/<strong>my_game</strong>/.</li>
</ul>
<p>As a best practice when registering Achievement URLs for Canvas games build off your Canvas Page URL. Based on the example above, developers would register <code>apps.facebook.com/my_game/ach1.html</code>.</p>
<table>
<tr>
<th>Name</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td>
<code>og:type</code>
</td>
<td>The value should be <code>game.achievement</code>.</td>
<td>true</td>
</tr>
<tr>
<td>
<code>og:title</code>
</td>
<td>Achievement&apos;s title.</td>
<td>true</td>
</tr>
<tr>
<td>
<code>og:url</code>
</td>
<td>The unique URL of the achievement.</td>
<td>true</td>
</tr>
<tr>
<td>
<code>og:description</code>
</td>
<td>An achievement&apos;s description. This should explain how the achievement is earned.</td>
<td>true</td>
</tr>
<tr>
<td>
<code>og:image</code>
</td>
<td>An image URL which should represent your object within the graph. The image must be at least 50px by 50px and have a maximum aspect ratio of 3:1. We support PNG, JPEG and GIF formats. You may include multiple <code>og:image</code> tags to associate multiple images with your page.</td>
<td>true</td>
</tr>
<tr>
<td>
<code>game:points</code>
</td>
<td>Number of points that this achievement is worth. Total points per game may not exceed 1000 points limit, which we enforce.</td>
<td>true</td>
</tr>
<tr>
<td>
<code>fb:app_id</code>
</td>
<td>The App ID that owns this achievement.</td>
<td>true</td>
</tr>
</table>
<h3>Create</h3>
<p>You can register an achievement for a game by issuing an <code>HTTP POST</code> to <code>APP_ID/achievements</code> with an <a href="/docs/authentication/#applogin" name="https://developers.facebook.com/docs/authentication/#applogin">
<code>app access_token</code>
</a> and the following parameters.</p>
<table>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
<tr>
<td>achievement</td>
<td>Unique URL to the achievement.</td>
<td>
<code>string</code>
</td>
<td> yes</td>
</tr>
<tr>
<td>display_order</td>
<td>Order of this achievement as it shows up in the achievement stories UI (low to high). For example a display order of 100 will be displayed in the UI before 200. We use this value to surface achievements according to the order the developer has specified. Please make sure this value is unique and increments in the correct order for your achievements.</td>
<td>
<code>integer</code>
</td>
<td>no</td>
</tr>
</table>
<p>Response:</p>
<table>
<tr>
<th>Description</th>
<th>Type</th>
</tr>
<tr>
<td>true or error depending on whether the registration was successful.</td>
<td>
<code>boolean<code>
</code>
</code>
</td>
</tr>
</table>
<table>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
<tr>
<td>100</td>
<td>Service error</td>
</tr>
<tr>
<td>3401</td>
<td>If an app tries to register more than the maximum number(1000) of achievements.</td>
</tr>
<tr>
<td>3402</td>
<td>When the app tries to register an achievement that would raise the app’s point total above the 1000-point limit.</td>
</tr>
</table>
<h3>Read</h3>
<p>You can get all achievements for an app by issuing an <code>HTTP GET</code> request to <code>/APP_ID/achievements</code> with an <code>app access_token</code>. This will return an <code>array</code> of achievement objects where each achievement object has the following fields.</p>
<table>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
</tr>
<tr>
<td>id</td>
<td>ID of the achievement object.</td>
<td>
<code>string</code>
</td>
</tr>
<tr>
<td>type</td>
<td>The value should be <code>games.achievement</code>.</td>
<td>
<code>string</code>
</td>
</tr>
<tr>
<td>title</td>
<td>Achievement’s title.</td>
<td>
<code>string</code>
</td>
</tr>
<tr>
<td>url</td>
<td>The unique URL of the achievement.</td>
<td>
<code>string</code>
</td>
</tr>
<tr>
<td>description</td>
<td>An achievement’s description. </td>
<td>
<code>string</code>
</td>
</tr>
<tr>
<td>image</td>
<td>image for the achievement.</td>
<td>an array of objects, containing a <code>URL</code> for the image.</td>
</tr>
<tr>
<td>data</td>
<td>An object containing the points field which contains the number of points that this achievement is worth. Total points per game may not exceed 1000 points limit, which we enforce.</td>
<td>an object containing <code>points</code>
</td>
</tr>
<tr>
<td>updated_time</td>
<td>Time when the achievement was last updated.</td>
<td>
<code>string</code> containing an ISO-8601 datetime</td>
</tr>
<tr>
<td>context</td>
<td>contains context of the achievement for the associated app.</td>
<td>
<code>array</code> containing the <code>display_order</code>
</td>
</tr>
</table>
<h3>Delete</h3>
<p>You can un-register an achievement for a game by issuing an <code>HTTP DELETE</code> request to <code>/APP_ID/achievements</code> with an <a href="/docs/authentication/#applogin" name="https://developers.facebook.com/docs/authentication/#applogin">
<code>app access_token</code>
</a> and the following parameter.</p>
<table>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
<tr>
<td>achievement</td>
<td>The unique URL to the achievement.</td>
<td>
<code>string</code>
</td>
<td>yes</td>
</tr>
</table>
<p>Response</p>
<table>
<tr>
<th>Description</th>
<th>Type</th>
</tr>
<tr>
<td>true or error depending on whether the delete was successful.</td>
<td>
<code>boolean<code>
</code>
</code>
</td>
</tr>
</table>
<p>When a developer deletes an achievement, it un-registers it from the app which means</p>
<ul>
<li>The app will no longer be able to publish that achievement for a user.</li>
<li>The point value of the achievement is deducted from the app’s achievements point total.</li>
<li>All existing user achievements for that achievement will not show up in the UI though they will still be available via the API.</li>
</ul>
<h3>Update</h3>
<p>A developer may update the <code>&lt;meta&gt;</code> tag property values of their achievement by forcing a re-scrape of it’s <code>Open Graph URL</code> using the <a href="/tools/lint" name="https://developers.facebook.com/tools/lint">Facebook Linter</a>. Please note that after a significant number of publishes, the property values are locked and cannot be edited.</p>
<p>A developer may update the custom properties of an achievement registration (e.g. display_order) by re-<code>POST</code>ing with the same achievement parameter value, but with an updated custom registration property value.</p>
<h2 id="manage">Managing achievements for a user</h2>
<p>This section provides details about the API to post, and delete achievements for a user.</p>
<h3>Read</h3>
<p>You can read the set of achievements for a user by issuing an <code>HTTP GET</code> request to <code>/USER_ID/achievements</code> with a an app or user <code>access_token</code> as long as the user has given the app <code>publish_actions</code> permission. This returns an <code>array</code> of <a href="docs/reference/api/achievement/" name="https://developers.facebook.com/docs/docs/reference/api/achievement/">
<code>achievement(instance)</code>
</a> objects where each <a href="docs/reference/api/achievement/" name="https://developers.facebook.com/docs/docs/reference/api/achievement/">
<code>achievement(instance)</code>
</a> represents the instance of the achievement achieved by the user.</p>
<ul>
<li>If the user has authorized your app with the <code>user_games_activity</code> permission then this returns the achievements for all games. Otherwise it returns achievements only for your app. </li>
<li>If the user has authorized your app with the <code>friends_games_activity</code> permission then you can also access achievements for the user&apos;s friends by issuing a <code>HTTP GET</code> request to <code>/FRIEND_ID/achievements</code>. </li>
</ul>
<p>The <code>achievement(instance)</code> object has the following fields:</p>
<table>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
</tr>
<tr>
<td>id</td>
<td>ID of the achievement(instance) object.</td>
<td>
<code>string</code>
</td>
</tr>
<tr>
<td>from</td>
<td>The user who achieved the achievement.</td>
<td>object containing the <code>id</code> and <code>name</code> of user.</td>
</tr>
<tr>
<td>created_time</td>
<td>Time at which the achievement was achieved.</td>
<td>
<code>string</code> containing an ISO-8601 datetime</td>
</tr>
<tr>
<td>application</td>
<td>The application in which the user achieved the achievement.</td>
<td>object containing <code>id</code> and <code>name</code> of application.</td>
</tr>
<tr>
<td>achievement</td>
<td>The achievement object that the user achieved.</td>
<td>object containing the <code>id</code>, <code>url</code>, <code>type</code>, and <code>title</code> of the achievement.</td>
</tr>
<tr>
<td>likes</td>
<td>Likes received by the story.</td>
<td>object containing the <code>count</code> of likes, as well as an array containing the <code>name</code> and <code>id</code> of users who like it.</td>
</tr>
<tr>
<td>comments</td>
<td>Comments received by the achievement story.</td>
<td>object containing the <code>count</code> of comments, as well as an array containing <code>id</code> of the comment, <code>from</code> object containing the <code>name</code> and <code>id</code> of users who created the comment, <code>message</code> and <code>created_time</code> of the comment</td>
</tr>
</table>
<h3>Create</h3>
<p>You can post an achievement for a user by issuing an <code>HTTP POST</code> request to <code>/USER_ID/achievements</code> with an <a href="/docs/authentication/#applogin" name="https://developers.facebook.com/docs/authentication/#applogin">
<code>app access_token</code>
</a> as long as the user has given the app the <code>publish_actions</code> permission. The API takes the following parameters:</p>
<table>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
<tr>
<td>achievement</td>
<td>The unique URL of the achievement which the user achieved.</td>
<td>
<code>string</code>
</td>
<td>yes</td>
</tr>
</table>
<p>Response</p>
<table>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
</tr>
<tr>
<td>id</td>
<td>achievement (instance) id for that user.</td>
<td>
<code>string</code>
</td>
</tr>
</table>
<table>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
<tr>
<td>3403</td>
<td>If the app tries to post an achievement which isn&apos;t registered.</td>
</tr>
<tr>
<td>3501</td>
<td>If the app tries to post an achievement which the user already has. </td>
</tr>
</table>
<h3>Delete</h3>
<p>You can delete an achievement for a user by issuing an <code>HTTP DELETE</code> request to <code>USER_ID/achievements</code> with the <a href="/docs/authentication/#applogin" name="https://developers.facebook.com/docs/authentication/#applogin">
<code>app access_token</code>
</a> as long as you have the <code>publish_actions</code> permission.</p>
<table>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
<tr>
<td>achievement</td>
<td>The unique URL of the achievement you wish to delete.</td>
<td>
<code>string</code>
</td>
<td>yes</td>
</tr>
</table>
<p>Response</p>
<table>
<tr>
<th>Description</th>
<th>Type</th>
</tr>
<tr>
<td>true or error depending on whether the delete was successful.</td>
<td>
<code>boolean<code>
</code>
</code>
</td>
</tr>
</table>
<table>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
<tr>
<td>3404</td>
<td>If the app tries to delete an achievement that the user doesn&apos;t have.</td>
</tr>
</table>
<h2>Next steps</h2>
<ul>
<li>
<a href="https://developers.facebook.com/docs/beta/authentication/#games" name="https://developers.facebook.com/docs/beta/authentication/#games">Showing Achievements aggregation previews in the Auth Dialog</a>
</li>
</ul>
<div class="mtl pvm uiBoxWhite topborder">
<div class="mbm lfloat">
<fb:like href="http://developers.facebook.com/docs/achievements/" send="true" show_faces="false">
</fb:like>
</div>
<div class="clear">
<abbr class="timestamp" data-utime="1336780113" title="2012年5月11日 16:48">約1ヶ月前に更新</abbr>
</div>
</div></div>

</body>
</html>
