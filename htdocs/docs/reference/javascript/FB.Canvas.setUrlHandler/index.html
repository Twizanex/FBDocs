<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>https://developers.facebook.com/docs/reference/javascript/FB.Canvas.setUrlHandler/</title>
<link rel="stylesheet" href="/css/common.css" media="screen" />
<script src="/js/common.js"></script>
</head>
<body>
<a id="oklahomer-orig-url" href="https://developers.facebook.com/docs/reference/javascript/FB.Canvas.setUrlHandler/">https://developers.facebook.com/docs/reference/javascript/FB.Canvas.setUrlHandler/</a>

<div id="oklahomer-menu-wrapper">
<div class="toplevelnav">
<ul>
<li>
<a href="/docs/" name="https://developers.facebook.com/docs/">
<div class="navSectionTitle">Getting Started</div>
</a>
</li>
<li>
<a href="/docs/coreconcepts" name="https://developers.facebook.com/docs/coreconcepts">
<div class="navSectionTitle">Core Concepts</div>
</a>
</li>
<li>
<a href="/docs/advancedtopics" name="https://developers.facebook.com/docs/advancedtopics">
<div class="navSectionTitle">Advanced Topics</div>
</a>
</li>
<li class="active withsubsections">
<a class="selected" href="/docs/sdks" name="https://developers.facebook.com/docs/sdks">
<div class="navSectionTitle">SDK Reference</div>
</a>
<ul class="subsections">
<li>
<a class="selected" href="/docs/reference/javascript/" name="https://developers.facebook.com/docs/reference/javascript/">JavaScript SDK</a>
</li>
<li>
<a href="/docs/reference/php" name="https://developers.facebook.com/docs/reference/php">PHP SDK</a>
</li>
<li>
<a href="/docs/reference/iossdk" name="https://developers.facebook.com/docs/reference/iossdk">iOS SDK</a>
</li>
<li>
<a href="/docs/reference/androidsdk" name="https://developers.facebook.com/docs/reference/androidsdk">Android SDK</a>
</li>
</ul>
</li>
<li>
<a href="/tools" name="https://developers.facebook.com/tools">
<div class="navSectionTitle">Tools</div>
</a>
</li>
</ul>
</div>
<ul id="navsubsectionpages">
<li>
</li>
<li>
<h5>Core Methods</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.api/" name="http://developers.facebook.com/docs/reference/javascript/FB.api/">FB.api</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.init/" name="http://developers.facebook.com/docs/reference/javascript/FB.init/">FB.init</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.ui/" name="http://developers.facebook.com/docs/reference/javascript/FB.ui/">FB.ui</a>
</li>
</ul>
</li>
<li>
<h5>Auth Methods</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.getAuthResponse/" name="http://developers.facebook.com/docs/reference/javascript/FB.getAuthResponse/">FB.getAuthResponse</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.getLoginStatus/" name="http://developers.facebook.com/docs/reference/javascript/FB.getLoginStatus/">FB.getLoginStatus</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.getSession/" name="http://developers.facebook.com/docs/reference/javascript/FB.getSession/">FB.getSession</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.login/" name="http://developers.facebook.com/docs/reference/javascript/FB.login/">FB.login</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.logout/" name="http://developers.facebook.com/docs/reference/javascript/FB.logout/">FB.logout</a>
</li>
</ul>
</li>
<li>
<h5>Event Handling</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Event.subscribe/" name="http://developers.facebook.com/docs/reference/javascript/FB.Event.subscribe/">FB.Event.subscribe</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Event.unsubscribe/" name="http://developers.facebook.com/docs/reference/javascript/FB.Event.unsubscribe/">FB.Event.unsubscribe</a>
</li>
</ul>
</li>
<li>
<h5>XFBML Methods</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.XFBML.parse/" name="http://developers.facebook.com/docs/reference/javascript/FB.XFBML.parse/">FB.XFBML.parse</a>
</li>
</ul>
</li>
<li>
<h5>Canvas Methods</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.Prefetcher.addStaticResource/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.Prefetcher.addStaticResource/">FB.Canvas.Prefetcher.addStaticResource</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.Prefetcher.setCollectionMode/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.Prefetcher.setCollectionMode/">FB.Canvas.Prefetcher.setCollectionMode</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.getPageInfo/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.getPageInfo/">FB.Canvas.getPageInfo</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.hideFlashElement/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.hideFlashElement/">FB.Canvas.hideFlashElement</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.scrollTo/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.scrollTo/">FB.Canvas.scrollTo</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setAutoGrow/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setAutoGrow/">FB.Canvas.setAutoGrow</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setDoneLoading/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setDoneLoading/">FB.Canvas.setDoneLoading</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setSize/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setSize/">FB.Canvas.setSize</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setUrlHandler/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setUrlHandler/">FB.Canvas.setUrlHandler</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.showFlashElement/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.showFlashElement/">FB.Canvas.showFlashElement</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.startTimer/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.startTimer/">FB.Canvas.startTimer</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.stopTimer/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.stopTimer/">FB.Canvas.stopTimer</a>
</li>
</ul>
</li>
</ul></div>

<div id="oklahomer-content-wrapper">
<div class="header">
<div class="content">
<h1>FB.Canvas.setUrlHandler</h1>
<div class="breadcrumbs">
<a href="/docs/sdks/" name="https://developers.facebook.com/docs/sdks/">SDK Reference</a> › <a href="/docs/reference/javascript/" name="https://developers.facebook.com/docs/reference/javascript/">JavaScript SDK</a> › <a href="/docs/reference/javascript/FB.Canvas.setUrlHandler/" name="https://developers.facebook.com/docs/reference/javascript/FB.Canvas.setUrlHandler/">FB.Canvas.setUrlHandler</a>
</div>
</div>
</div>
<h2>Overview</h2>
<p>Registers the callback for inline processing (i.e. without page reload) of user actions when they click on any link to the current app from Canvas, including:</p>
<ul>
<li>All ticker stories</li>
<li>Bookmarks</li>
<li>Requests from the bookmarks drop-down list</li>
<li>Request Notifications stories. </li>
</ul>
<p>When user clicks on a ticker story for example, by default we would redirect the user to the corresponding URL. The app can choose to instead register a callback to display the achievement within the application.</p>
<p>Callback will be called with a field that contains the path of the URL, relative to you application&apos;s canvas URL; for example, if the URL that would have been loaded was <code>https://apps.facebook.com/yourgameXYZ/achievements/cheevo1.php?fb_source=canvas_ticker&amp;fb_ticker_mod=achievement&amp;fb_action_types=games.achieves</code>, callback will be called with parameter</p>
<pre>
<code>{
    path: &quot;/achievements/cheevo1.php?fb_source=canvas_ticker&amp;fb_ticker_mod=
      achievement&amp;fb_action_types=games.achieves&quot;
}
</code>
</pre>
<h2>Example</h2>
<pre>
<code> function onUrl(data) {
     if (data.path.indexOf(&quot;games.achieves&quot;) != -1) {
         console.log(&apos;I will process some achievement now.&apos;);
     } else if (data.path.indexOf(&quot;request_ids&quot;) != -1) {
         console.log(&apos;I will process some request now.&apos;);
     } else {
         // default behaviour
         window.location = data.path;
     }
 } 

 FB.Canvas.setUrlHandler(onUrl);
</code>
</pre>
<h2>Note</h2>
<p>Each call to FB.Canvas.setUrlHandler() invalidates previously set callback, if any.</p>
<p>Only links pointing to canvas page (i.e. starting with <code>apps.facebook.com/your_app/</code>) will be sent for inline processing.</p>
<h2>Return</h2>
<table class="return">
<tbody>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
<tr>
<td>path</td>
<td>
<code>string</code>
</td>
<td>path to the achievement, relative to you application&apos;s canvas URL</td>
</tr>
</tbody>
</table>
<h2>パラメータ</h2>
<table class="params">
<tr>
<th>名前</th>
<th>タイプ</th>
<th>説明</th>
</tr>
<tr>
<td class="name">callback</td>
<td class="type">Function</td>
<td>
<p>Callback function taking one argument, as described above.</p>
</td>
</tr>
</table>
<div class="mtl pvm uiBoxWhite topborder">
<div class="mbm lfloat">
<fb:like href="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setUrlHandler/" send="true" show_faces="false">
</fb:like>
</div>
<div class="clear">
<abbr class="timestamp" data-utime="1315623353" title="2011年9月9日 19:55">約9ヶ月前に更新</abbr>
</div>
</div></div>

</body>
</html>
