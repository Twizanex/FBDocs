<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>https://developers.facebook.com/docs/reference/javascript/FB.Event.subscribe/</title>
<link rel="stylesheet" href="/css/common.css" media="screen" />
<script src="/js/common.js"></script>
</head>
<body>
<a id="oklahomer-orig-url" href="https://developers.facebook.com/docs/reference/javascript/FB.Event.subscribe/">https://developers.facebook.com/docs/reference/javascript/FB.Event.subscribe/</a>

<div id="oklahomer-menu-wrapper">
<div class="toplevelnav">
<ul>
<li>
<a href="/docs/" name="https://developers.facebook.com/docs/">
<div class="navSectionTitle">Getting Started</div>
</a>
</li>
<li>
<a href="/docs/coreconcepts/" name="https://developers.facebook.com/docs/coreconcepts">
<div class="navSectionTitle">Core Concepts</div>
</a>
</li>
<li>
<a href="/docs/advancedtopics/" name="https://developers.facebook.com/docs/advancedtopics">
<div class="navSectionTitle">Advanced Topics</div>
</a>
</li>
<li class="active withsubsections">
<a class="selected" href="/docs/sdks/" name="https://developers.facebook.com/docs/sdks">
<div class="navSectionTitle">SDK Reference</div>
</a>
<ul class="subsections">
<li>
<a class="selected" href="/docs/reference/javascript/" name="https://developers.facebook.com/docs/reference/javascript/">JavaScript SDK</a>
</li>
<li>
<a href="/docs/reference/php/" name="https://developers.facebook.com/docs/reference/php">PHP SDK</a>
</li>
<li>
<a href="/docs/reference/iossdk/" name="https://developers.facebook.com/docs/reference/iossdk">iOS SDK</a>
</li>
<li>
<a href="/docs/reference/androidsdk/" name="https://developers.facebook.com/docs/reference/androidsdk">Android SDK</a>
</li>
</ul>
</li>
<li>
<a href="https://developers.facebook.com/tools" name="https://developers.facebook.com/tools" target="_blank">
<div class="navSectionTitle">Tools</div>
</a>
</li>
</ul>
</div>
<ul id="navsubsectionpages">
<li>
</li>
<li>
<h5>Core Methods</h5>
<ul>
<li>
<a href="/docs/reference/javascript/FB.api/" name="http://developers.facebook.com/docs/reference/javascript/FB.api/">FB.api</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.init/" name="http://developers.facebook.com/docs/reference/javascript/FB.init/">FB.init</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.ui/" name="http://developers.facebook.com/docs/reference/javascript/FB.ui/">FB.ui</a>
</li>
</ul>
</li>
<li>
<h5>Auth Methods</h5>
<ul>
<li>
<a href="/docs/reference/javascript/FB.getAuthResponse/" name="http://developers.facebook.com/docs/reference/javascript/FB.getAuthResponse/">FB.getAuthResponse</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.getLoginStatus/" name="http://developers.facebook.com/docs/reference/javascript/FB.getLoginStatus/">FB.getLoginStatus</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.getSession/" name="http://developers.facebook.com/docs/reference/javascript/FB.getSession/">FB.getSession</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.login/" name="http://developers.facebook.com/docs/reference/javascript/FB.login/">FB.login</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.logout/" name="http://developers.facebook.com/docs/reference/javascript/FB.logout/">FB.logout</a>
</li>
</ul>
</li>
<li>
<h5>Event Handling</h5>
<ul>
<li>
<a href="/docs/reference/javascript/FB.Event.subscribe/" name="http://developers.facebook.com/docs/reference/javascript/FB.Event.subscribe/">FB.Event.subscribe</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Event.unsubscribe/" name="http://developers.facebook.com/docs/reference/javascript/FB.Event.unsubscribe/">FB.Event.unsubscribe</a>
</li>
</ul>
</li>
<li>
<h5>XFBML Methods</h5>
<ul>
<li>
<a href="/docs/reference/javascript/FB.XFBML.parse/" name="http://developers.facebook.com/docs/reference/javascript/FB.XFBML.parse/">FB.XFBML.parse</a>
</li>
</ul>
</li>
<li>
<h5>Canvas Methods</h5>
<ul>
<li>
<a href="/docs/reference/javascript/FB.Canvas.Prefetcher.addStaticResource/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.Prefetcher.addStaticResource/">FB.Canvas.Prefetcher.addStaticResource</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Canvas.Prefetcher.setCollectionMode/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.Prefetcher.setCollectionMode/">FB.Canvas.Prefetcher.setCollectionMode</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Canvas.getPageInfo/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.getPageInfo/">FB.Canvas.getPageInfo</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Canvas.hideFlashElement/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.hideFlashElement/">FB.Canvas.hideFlashElement</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Canvas.scrollTo/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.scrollTo/">FB.Canvas.scrollTo</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Canvas.setAutoGrow/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setAutoGrow/">FB.Canvas.setAutoGrow</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Canvas.setDoneLoading/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setDoneLoading/">FB.Canvas.setDoneLoading</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Canvas.setSize/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setSize/">FB.Canvas.setSize</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Canvas.setUrlHandler/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.setUrlHandler/">FB.Canvas.setUrlHandler</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Canvas.showFlashElement/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.showFlashElement/">FB.Canvas.showFlashElement</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Canvas.startTimer/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.startTimer/">FB.Canvas.startTimer</a>
</li>
<li>
<a href="/docs/reference/javascript/FB.Canvas.stopTimer/" name="http://developers.facebook.com/docs/reference/javascript/FB.Canvas.stopTimer/">FB.Canvas.stopTimer</a>
</li>
</ul>
</li>
</ul></div>

<div id="oklahomer-content-wrapper">
<div class="header">
<div class="content">
<h1>FB.Event.subscribe</h1>
<div class="breadcrumbs">
<a href="/docs/sdks/" name="https://developers.facebook.com/docs/sdks/">SDK Reference</a> › <a href="/docs/reference/javascript/" name="https://developers.facebook.com/docs/reference/javascript/">JavaScript SDK</a> › <a href="/docs/reference/javascript/FB.Event.subscribe/" name="https://developers.facebook.com/docs/reference/javascript/FB.Event.subscribe/">FB.Event.subscribe</a>
</div>
</div>
</div>
<h2>Overview</h2>
<p>Attaches an handler to an event and invokes your callback when the event fires.</p>
<h2>Example</h2>
<p>For example, suppose you want to record Likes in your database whenever a button is clicked:</p>
<pre>
<code>FB.Event.subscribe(&apos;edge.create&apos;,
    function(response) {
        alert(&apos;You liked the URL: &apos; + response);
    }
);
</code>
</pre>
<p>Or be notified when the session changes</p>
<pre>
<code>FB.Event.subscribe(&apos;auth.authResponseChange&apos;, function(response) {
  alert(&apos;The status of the session is: &apos; + response.status);
});
</code>
</pre>
<p>In both of these cases, you would replace the alert() with your handling code.</p>
<h2>Events</h2>
<p>Global Events to which you can subscribe:</p>
<ul>
<li>
<b>auth.login</b> - fired when the auth status changes to <code>connected</code>
<br />
</li>
<li>
<b>auth.authResponseChange</b> - fired when the authResponse changes<br />
</li>
<li>
<b>auth.statusChange</b> - fired when the status changes (see <a href="https://developers.facebook.com/FB.getLoginStatus" name="https://developers.facebook.com/FB.getLoginStatus" target="_blank">FB.getLoginStatus</a> for additional information on what this means)<br />
</li>
</ul>
<p>The response object passed into the callback function for these events looks like the following:</p>
<pre>
<code>{
  status: &quot;&quot;,         /* Current status of the session */
  authResponse: {          /* Information about the current session */
    userID: &quot;&quot;          /* String representing the current user&apos;s ID */
    signedRequest: &quot;&quot;,  /* String with the current signedRequest */
    expiresIn: &quot;&quot;,      /* UNIX time when the session expires */
    accessToken: &quot;&quot;,    /* Access token of the user */
  }
}
</code>
</pre>
<p>See Response and Session Objects section in the <a href="/docs/reference/javascript/FB.getLoginStatus/" name="https://developers.facebook.com/docs/reference/javascript/FB.getLoginStatus">FB.getLoginStatus</a> documentation for more information.</p>
<p>
<strong>NOTE:</strong> auth.statusChange() does not have a &apos;status&apos; field.</p>
<p>
<br />
</p>
<ul>
<li>
<b>auth.logout</b> - fired when the user logs out. The response object passed into the callback function looks like:<br />
</li>
</ul>
<pre>
<code>{
  status: &quot;&quot;,         /* Current status of the session */
}
</code>
</pre>
<p>
<br />
</p>
<ul>
<li>
<b>auth.prompt</b> - fired when user is prompted to log in or opt in to Platform after clicking a Like button. The response parameter to the callback function contains the URL that initiated the prompt:<br />
</li>
</ul>
<pre>
<code>&quot;http://www.example.com/login.php&quot;
</code>
</pre>
<p>
<br />
</p>
<ul>
<li>
<b>xfbml.render</b> - fired when a call to FB.XFBML.parse() completes. The response parameter to the callback function is empty for this event:<br />
</li>
</ul>
<pre>
<code>&quot;&quot;
</code>
</pre>
<p>
<br />
</p>
<ul>
<li>
<b>edge.create</b> - fired when the user likes something (fb:like). The response parameter to the callback function contains the URL that was liked:<br />
</li>
</ul>
<pre>
<code>&quot;http://www.example.com/article1.php&quot;
</code>
</pre>
<p>
<br />
</p>
<ul>
<li>
<b>edge.remove</b> - fired when the user unlikes something (fb:like). The response parameter to the callback function contains the URL that was unliked:<br />
</li>
</ul>
<pre>
<code>&quot;http://www.example.com/article2.php&quot;
</code>
</pre>
<p>
<br />
</p>
<ul>
<li>
<b>comment.create</b> - fired when the user adds a comment (fb:comments). The response object passed into the callback function looks like:<br />
</li>
</ul>
<pre>
<code>{
  href: &quot;&quot;,         /* Open Graph URL of the Comment Plugin */
  commentID: &quot;&quot;,    /* The commentID of the new comment */
}
</code>
</pre>
<p>
<br />
</p>
<ul>
<li>
<b>comment.remove</b> - fired when the user removes a comment (fb:comments). The response object passed into the callback function looks like:<br />
</li>
</ul>
<pre>
<code>{
  href: &quot;&quot;,         /* Open Graph URL of the Comment Plugin */
  commentID: &quot;&quot;,    /* The commentID of the deleted comment */
}
</code>
</pre>
<ul>
<li>
<b>message.send</b> - fired when the user sends a message using the <a href="/docs/reference/plugins/send/" name="https://developers.facebook.com/docs/reference/plugins/send/">send button</a>. The response object passed into the callback function contains the URL which was sent:<br />
</li>
</ul>
<pre>
<code>&quot;http://www.example.com/article1.php&quot;
</code>
</pre>
<p>
<br />
</p>
<h2>Best Practices</h2>
<p>For most cases, you will want to subscribe to auth.authResponseChange rather than auth.statusChange. The response is returned as a javascript array, not encoded as JSON.</p>
<p>Note that for some cases, the value of response is unkeyed, but when more than one variable is returned, it contains the appropriate keys.</p>
<p>You can subscribe multiple callbacks to one event using different function names.</p>
<h2>パラメータ</h2>
<table class="params">
<tr>
<th>名前</th>
<th>タイプ</th>
<th>説明</th>
</tr>
<tr>
<td class="name">name</td>
<td class="type">String</td>
<td>
<p>Name of the event.</p>
</td>
</tr>
<tr>
<td class="name">cb</td>
<td class="type">Function</td>
<td>
<p>The handler function.</p>
</td>
</tr>
</table>
<div class="mtl pvm uiBoxWhite topborder">
<div class="mbm lfloat">
<fb:like href="http://developers.facebook.com/docs/reference/javascript/FB.Event.subscribe/" send="true" show_faces="false">
</fb:like>
</div>
<div class="clear">
<abbr class="timestamp" data-utime="1330054875" title="2012年2月23日 19:41">2012年2月23日 19:41</abbr>
</div>
</div></div>

</body>
</html>
