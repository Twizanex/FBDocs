<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>https://developers.facebook.com/docs/reference/api/order/</title>
<link rel="stylesheet" href="/css/common.css" media="screen" />
<script src="/js/common.js"></script>
</head>
<body>
<a id="oklahomer-orig-url" href="https://developers.facebook.com/docs/reference/api/order/">https://developers.facebook.com/docs/reference/api/order/</a>

<div id="oklahomer-menu-wrapper">
<div class="toplevelnav">
<ul>
<li>
<a href="/docs/" name="https://developers.facebook.com/docs/" target="">
<div class="navSectionTitle">Getting Started</div>
</a>
</li>
<li class="active withsubsections">
<a class="selected" href="/docs/coreconcepts/" name="https://developers.facebook.com/docs/coreconcepts" target="">
<div class="navSectionTitle">Core Concepts</div>
</a>
<ul class="subsections">
<li>
<a href="https://developers.facebook.com/socialdesign" name="https://developers.facebook.com/socialdesign" target="_blank">Social Design</a>
</li>
<li>
<a href="/docs/plugins/" name="https://developers.facebook.com/docs/plugins" target="">Social Plugins</a>
</li>
<li>
<a href="/docs/opengraph/" name="https://developers.facebook.com/docs/opengraph" target="">Open Graph</a>
</li>
<li>
<a href="/docs/channels/" name="https://developers.facebook.com/docs/channels" target="">Social Channels</a>
</li>
<li>
<a href="/docs/authentication/" name="https://developers.facebook.com/docs/authentication" target="">Authentication</a>
</li>
<li>
<a class="selected" href="/docs/reference/api/" name="https://developers.facebook.com/docs/reference/api" target="">Graph API</a>
</li>
</ul>
</li>
<li>
<a href="/docs/advancedtopics/" name="https://developers.facebook.com/docs/advancedtopics" target="">
<div class="navSectionTitle">Advanced Topics</div>
</a>
</li>
<li>
<a href="/docs/sdks/" name="https://developers.facebook.com/docs/sdks" target="">
<div class="navSectionTitle">SDK Reference</div>
</a>
</li>
<li>
<a href="https://developers.facebook.com/tools" name="https://developers.facebook.com/tools" target="_blank">
<div class="navSectionTitle">Tools</div>
</a>
</li>
</ul>
</div>
<ul id="navsubsectionpages">
<li>
</li>
<li>
<h5>Concepts</h5>
<ul>
<li>
<a href="/docs/reference/api/batch/" name="http://developers.facebook.com/docs/reference/api/batch/" target="">Batch Requests</a>
</li>
<li>
<a href="/docs/reference/api/permissions/" name="http://developers.facebook.com/docs/reference/api/permissions/" target="">Permissions</a>
</li>
<li>
<a href="/docs/reference/api/realtime/" name="http://developers.facebook.com/docs/reference/api/realtime/" target="">Real-time Updates</a>
</li>
</ul>
</li>
<li>
<h5>Objects</h5>
<ul>
<li>
<a href="/docs/reference/api/achievement/" name="http://developers.facebook.com/docs/reference/api/achievement/" target="">Achievement(Instance)</a>
</li>
<li>
<a href="/docs/reference/api/album/" name="http://developers.facebook.com/docs/reference/api/album/" target="">Album</a>
</li>
<li>
<a href="/docs/reference/api/application/" name="http://developers.facebook.com/docs/reference/api/application/" target="">Application</a>
</li>
<li>
<a href="/docs/reference/api/checkin/" name="http://developers.facebook.com/docs/reference/api/checkin/" target="">Checkin</a>
</li>
<li>
<a href="/docs/reference/api/Comment/" name="http://developers.facebook.com/docs/reference/api/Comment/" target="">Comment</a>
</li>
<li>
<a href="/docs/reference/api/domain/" name="http://developers.facebook.com/docs/reference/api/domain/" target="">Domain</a>
</li>
<li>
<a href="/docs/reference/api/event/" name="http://developers.facebook.com/docs/reference/api/event/" target="">Event</a>
</li>
<li>
<a href="/docs/reference/api/FriendList/" name="http://developers.facebook.com/docs/reference/api/FriendList/" target="">FriendList</a>
</li>
<li>
<a href="/docs/reference/api/group/" name="http://developers.facebook.com/docs/reference/api/group/" target="">Group</a>
</li>
<li>
<a href="/docs/reference/api/insights/" name="http://developers.facebook.com/docs/reference/api/insights/" target="">Insights</a>
</li>
<li>
<a href="/docs/reference/api/link/" name="http://developers.facebook.com/docs/reference/api/link/" target="">Link</a>
</li>
<li>
<a href="/docs/reference/api/message/" name="http://developers.facebook.com/docs/reference/api/message/" target="">Message</a>
</li>
<li>
<a href="/docs/reference/api/note/" name="http://developers.facebook.com/docs/reference/api/note/" target="">Note</a>
</li>
<li>
<a href="/docs/reference/api/offer/" name="http://developers.facebook.com/docs/reference/api/offer/" target="">Offer</a>
</li>
<li>
<a href="/docs/reference/api/order/" name="http://developers.facebook.com/docs/reference/api/order/" target="">Order </a>
</li>
<li>
<a href="/docs/reference/api/page/" name="http://developers.facebook.com/docs/reference/api/page/" target="">Page</a>
</li>
<li>
<a href="/docs/reference/api/photo/" name="http://developers.facebook.com/docs/reference/api/photo/" target="">Photo</a>
</li>
<li>
<a href="/docs/reference/api/post/" name="http://developers.facebook.com/docs/reference/api/post/" target="">Post</a>
</li>
<li>
<a href="/docs/reference/api/question/" name="http://developers.facebook.com/docs/reference/api/question/" target="">Question</a>
</li>
<li>
<a href="/docs/reference/api/question_option/" name="http://developers.facebook.com/docs/reference/api/question_option/" target="">QuestionOption</a>
</li>
<li>
<a href="/docs/reference/api/Review/" name="http://developers.facebook.com/docs/reference/api/Review/" target="">Review</a>
</li>
<li>
<a href="/docs/reference/api/status/" name="http://developers.facebook.com/docs/reference/api/status/" target="">Status message</a>
</li>
<li>
<a href="/docs/reference/api/thread/" name="http://developers.facebook.com/docs/reference/api/thread/" target="">Thread</a>
</li>
<li>
<a href="/docs/reference/api/user/" name="http://developers.facebook.com/docs/reference/api/user/" target="">User</a>
</li>
<li>
<a href="/docs/reference/api/video/" name="http://developers.facebook.com/docs/reference/api/video/" target="">Video</a>
</li>
</ul>
</li>
</ul></div>

<div id="oklahomer-content-wrapper">
<div class="header">
<div class="content">
<h1>Order </h1>
<div class="breadcrumbs">
<a href="/docs/coreconcepts/" name="https://developers.facebook.com/docs/coreconcepts/">Core Concepts</a> › <a href="/docs/reference/api/" name="https://developers.facebook.com/docs/reference/api/">Graph API</a> › <a href="/docs/reference/api/order/" name="https://developers.facebook.com/docs/reference/api/order/">Order </a>
</div>
</div>
</div>
<p>You can use the order object to interact with orders created by the application using <a href="/docs/creditsapi/" name="https://developers.facebook.com/docs/creditsapi">Facebook credits</a> to view and update orders as needed.</p>
<p>You can also access all orders for a user or an application by accessing the <code>/payments</code> connection on the <a href="/docs/reference/api/user/" name="https://developers.facebook.com/docs/reference/api/user">
<code>user</code>
</a> or <a href="/docs/reference/api/application/" name="https://developers.facebook.com/docs/reference/api/application">
<code>application</code>
</a> objects.</p>
<p>
<b>Note</b>: You must use actual orders when calling the Graph API. Orders from test users will not be processed.</p>
<hr />
<h2>Properties</h2>
<p>The properties associated with the <code>order</code> object.</p>
<table>
<tr>
<td>
<b>Name</b>
</td>
<td>
<b>Description</b>
</td>
<td>
<b>Permissions</b>
</td>
<td>
<b>Returns</b>
</td>
</tr>
<tr>
<td>
<code>id</code>
</td>
<td>
<p>id for the order</p>
</td>
<td>
<p>app <code>access_token</code>
</p>
</td>
<td>
<p>
<code>name</code> and <code>id</code> of the user</p>
</td>
</tr>
<tr>
<td>
<code>from</code>
</td>
<td>
<p>user associated with the order</p>
</td>
<td>
<p>app <code>access_token</code>
</p>
</td>
<td>
<p>
<code>string</code>
</p>
</td>
</tr>
<tr>
<td>
<code>amount</code>
</td>
<td>
<p>amount for the order</p>
</td>
<td>
<p>app <code>access_token</code>
</p>
</td>
<td>
<p>
<code>integer</code>
</p>
</td>
</tr>
<tr>
<td>
<code>status</code>
</td>
<td>
<p>status the order</p>
</td>
<td>
<p>app <code>access_token</code>
</p>
</td>
<td>
<p>
<code>string</code> - possible values are <code>placed</code>, <code>settled</code>, <code>disputed</code>, <code>refunded</code>, <code>cancelled</code>
</p>
</td>
</tr>
<tr>
<td>
<code>application</code>
</td>
<td>
<p>application associated with the order</p>
</td>
<td>
<p>app <code>access_token</code>
</p>
</td>
<td>
<p>
<code>name</code> and <code>id</code> of the application</p>
</td>
</tr>
<tr>
<td>
<code>country</code>
</td>
<td>
<p>country associated with the order</p>
</td>
<td>
<p>app <code>access_token</code>
</p>
</td>
<td>
<p>String containing <code>ISO 3166 alpha 2</code> code representing the country</p>
</td>
</tr>
<tr>
<td>
<code>refund_reason_code</code>
</td>
<td>
<p>refund reason code if the order was refunded by Facebook</p>
</td>
<td>
<p>app <code>access_token</code>
</p>
</td>
<td>
<p>
<code>string</code>
</p>
</td>
</tr>
<tr>
<td>
<code>created_time</code>
</td>
<td>
<p>time when the order was created</p>
</td>
<td>
<p>app <code>access_token</code>
</p>
</td>
<td>
<p>
<code>string</code> containing an ISO-8601 datetime</p>
</td>
</tr>
<tr>
<td>
<code>updated_time</code>
</td>
<td>
<p>time when the order was last updated</p>
</td>
<td>
<p>app <code>access_token</code>
</p>
</td>
<td>
<p>
<code>string</code> containing an ISO-8601 datetime</p>
</td>
</tr>
</table>
<h3>
<span id="statuses">Order Statuses</span>
</h3>
<p>The <code>status</code> property of an order can have one of the following values:</p>
<table>
<tr>
<th>Status</th>
<th>Description</th>
<th>Set By</th>
<th>Possible Next Statuses</th>
</tr>
<tr>
<td>
<code>placed</code>
</td>
<td>Once the user approves the transaction, Facebook holds the necessary number of credits from the user and the order is put into the placed state. It is then sent to the developer with a <code>payments_status_update</code> call at which time the developer should grant the user their item before moving the order to <code>settled</code> state.</td>
<td>Facebook</td>
<td>
<code>settled</code> or <code>cancelled</code>
</td>
</tr>
<tr>
<td>
<code>settled</code>
</td>
<td>Once the order is settled the funds are fully transferred from the user to the application</td>
<td>Developer</td>
<td>Usually the order is done here. However the order can still enter a <code>disputed</code> or <code>refunded</code> state at a later time</td>
</tr>
<tr>
<td>
<code>refunded</code>
</td>
<td>The order has been refunded and the user has been given back their purchase amount in credits for the underlying order. The order can be refunded due to various reasons, please see the <a href="/docs/credits/disputes/" name="https://developers.facebook.com/docs/credits/disputes/">Chargebacks and disputes doc</a> for more info.</td>
<td>Facebook or Developer</td>
<td>None</td>
</tr>
<tr>
<td>
<code>disputed</code>
</td>
<td>The order has been disputed by the user and requires action on your part. See our <a href="/docs/credits/disputes/" name="https://developers.facebook.com/docs/credits/disputes/">disputes</a> section for more information.</td>
<td>User</td>
<td>
<code>settled</code> or <code>refunded</code>
</td>
</tr>
<tr>
<td>
<code>cancelled</code>
</td>
<td>The order has been cancelled and no funds are transferred from the user to the application</td>
<td>Developer</td>
<td>None</td>
</tr>
</table>
<h3>Refund reason Codes</h3>
<p>If you issue a <code>HTTP GET</code> request to <code>/ORDER_ID</code> and if the order in question has been refunded by Facebook, then there you will see the <code>refund_reason_code</code> which explains why the order was refunded by Facbook with one of values below. See more information about why Facebook refunds orders in the <a href="/docs/credits/disputes/" name="https://developers.facebook.com/docs/credits/disputes/">Chargebacks and disputes doc</a>.</p>
<table>
<tr>
<td>Compromised Account</td>
</tr>
<tr>
<td>Stolen Financial Instrument</td>
</tr>
<tr>
<td>Not Fraud</td>
</tr>
<tr>
<td>User Confusion</td>
</tr>
<tr>
<td>Dev System Issue</td>
</tr>
<tr>
<td>FB System Issue</td>
</tr>
</table>
<h3>Sample Response</h3>
<pre>

{
   &quot;id&quot;: &quot;9006187786070&quot;,
   &quot;from&quot;: 221159,
   &quot;to&quot;: 221159,
   &quot;amount&quot;: 1,
   &quot;status&quot;: &quot;settled&quot;,
   &quot;application&quot;: {
      &quot;name&quot;: &quot;SampleApp&quot;,
      &quot;canvas_name&quot;: &quot;fbdschultzcredits&quot;,
      &quot;namespace&quot;: &quot;fbdschultzcredits&quot;,
      &quot;id&quot;: &quot;128163550571392&quot;
   },
   &quot;country&quot;: &quot;US&quot;,
   &quot;created_time&quot;: &quot;2011-11-16T19:39:52+0000&quot;,
   &quot;updated_time&quot;: &quot;2011-11-16T19:39:55+0000&quot;
}
</pre>
<h2>
<span id="updateorder">Update Order</span>
</h2>
<p>You can update properties an existing order by issuing a <code>HTTP POST</code> request to <code>/ORDER_ID</code> with the list of parameters you wish to update.</p>
<p>You may only issue a refund within 60 days of the initial transaction.</p>
<p>When updating a disputed order, you may only move the status to <code>settled</code> or <code>refunded</code>. In addition, you must provide the additional <code>message</code> parameter with a reason for either refunding or settling the disputed order. If you are updating a <code>settled</code> order to <code>refunded</code> for whatever reason, then you do not need to provide the <code>message</code> parameter.</p>
<p>This API is throttled to 100 calls per minute.</p>
<pre>POST https://graph.facebook.com/[order id]?status=STATUS&amp;message=MESSAGE</pre>
<p>
<br />
<b>Parameters</b>:</p>
<table>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
<tr>
<td>
<code>status</code>
</td>
<td>A string representing the status you want the order to move to. You can only update it to one of <code>settled</code> or <code>refunded</code>.</td>
</tr>
<tr>
<td>
<code>message</code>
</td>
<td>a message to associate with the update of the order, required when moving from a <code>disputed</code> status to <code>settled</code> or <code>refunded</code>.</td>
</tr>
<tr>
<td>
<code>params</code>
</td>
<td>optional JSON-encoded dictionary {&apos;comment&apos; =&gt; <string>}</string>
</td>
</tr>
</table>
<p>
<b>Returns</b>:</p>
<ul>
<li>`true` or `false` on failure</li>
</ul>
<div class="mtl pvm uiBoxWhite topborder">
<div class="mbm lfloat">
<fb:like href="http://developers.facebook.com/docs/reference/api/order/" send="true" show_faces="false">
</fb:like>
</div>
<div class="clear">
<abbr class="timestamp" data-utime="1324399733" title="2011年12月20日 8:48">約6ヶ月前に更新</abbr>
</div>
</div></div>

</body>
</html>
