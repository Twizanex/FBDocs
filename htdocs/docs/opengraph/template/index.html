<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>https://developers.facebook.com/docs/opengraph/template/</title>
<link rel="stylesheet" href="/css/common.css" media="screen" />
<script src="/js/common.js"></script>
</head>
<body>
<a id="oklahomer-orig-url" href="https://developers.facebook.com/docs/opengraph/template/">https://developers.facebook.com/docs/opengraph/template/</a>

<div id="oklahomer-menu-wrapper">
<div class="toplevelnav">
<ul>
<li>
<a href="/docs/" name="https://developers.facebook.com/docs/">
<div class="navSectionTitle">Getting Started</div>
</a>
</li>
<li class="active withsubsections">
<a class="selected" href="/docs/coreconcepts/" name="https://developers.facebook.com/docs/coreconcepts">
<div class="navSectionTitle">Core Concepts</div>
</a>
<ul class="subsections">
<li>
<a href="https://developers.facebook.com/socialdesign" name="https://developers.facebook.com/socialdesign" target="_blank">Social Design</a>
</li>
<li>
<a href="/docs/plugins/" name="https://developers.facebook.com/docs/plugins">Social Plugins</a>
</li>
<li>
<a href="/docs/opengraph/" name="https://developers.facebook.com/docs/opengraph">Open Graph</a>
</li>
<li>
<a href="/docs/channels/" name="https://developers.facebook.com/docs/channels">Social Channels</a>
</li>
<li>
<a href="/docs/authentication/" name="https://developers.facebook.com/docs/authentication">Authentication</a>
</li>
<li>
<a href="/docs/reference/api/" name="https://developers.facebook.com/docs/reference/api">Graph API</a>
</li>
</ul>
</li>
<li>
<a href="/docs/advancedtopics/" name="https://developers.facebook.com/docs/advancedtopics">
<div class="navSectionTitle">Advanced Topics</div>
</a>
</li>
<li>
<a href="/docs/sdks/" name="https://developers.facebook.com/docs/sdks">
<div class="navSectionTitle">SDK Reference</div>
</a>
</li>
<li>
<a href="https://developers.facebook.com/tools" name="https://developers.facebook.com/tools" target="_blank">
<div class="navSectionTitle">Tools</div>
</a>
</li>
</ul>
</div>
<ul id="navsubsectionpages">
<li>
</li>
<li>
<h5>Getting Started</h5>
<ul>
<li>
<a href="/docs/opengraph/keyconcepts/" name="http://developers.facebook.com/docs/opengraph/keyconcepts/">Key Concepts</a>
</li>
<li>
<a href="/docs/opengraph/tutorial/" name="http://developers.facebook.com/docs/opengraph/tutorial/">Tutorial</a>
</li>
<li>
<a href="/docs/opengraph/authentication/" name="http://developers.facebook.com/docs/opengraph/authentication/">Auth Dialog</a>
</li>
<li>
<a href="/docs/opengraph/plugins/" name="http://developers.facebook.com/docs/opengraph/plugins/">Social Plugins</a>
</li>
<li>
<a href="/docs/opengraph/samples/" name="http://developers.facebook.com/docs/opengraph/samples/">Open Graph Samples</a>
</li>
</ul>
</li>
<li class="active">
<h5>Open Graph Tool</h5>
<ul>
<li>
<a href="/docs/opengraph/define-objects/" name="http://developers.facebook.com/docs/opengraph/define-objects/">Define Objects</a>
</li>
<li>
<a href="/docs/opengraph/define-actions/" name="http://developers.facebook.com/docs/opengraph/define-actions/">Define Actions</a>
</li>
<li>
<a href="/docs/opengraph/define-units/" name="http://developers.facebook.com/docs/opengraph/define-units/">Define Aggregations</a>
</li>
<li>
<a href="/docs/opengraph/opengraph-approval/" name="http://developers.facebook.com/docs/opengraph/opengraph-approval/">Submit for Approval</a>
</li>
<li>
<a class="selected" href="/docs/opengraph/template/" name="http://developers.facebook.com/docs/opengraph/template/">Using Text Templates</a>
</li>
</ul>
</li>
<li>
<h5>Reference</h5>
<ul>
<li>
<a href="/docs/opengraph/objects/" name="http://developers.facebook.com/docs/opengraph/objects/">Using Objects</a>
</li>
<li>
<a href="/docs/opengraph/actions/" name="http://developers.facebook.com/docs/opengraph/actions/">Using Actions</a>
</li>
<li>
<a href="/docs/opengraph/permissions/" name="http://developers.facebook.com/docs/opengraph/permissions/">Open Graph Permissions</a>
</li>
<li>
<a href="/docs/opengraph/objects/builtin/" name="http://developers.facebook.com/docs/opengraph/objects/builtin/">Built-in Object Types</a>
</li>
<li>
<a href="/docs/opengraph/actions/builtin/" name="http://developers.facebook.com/docs/opengraph/actions/builtin/">Built-in Action Types</a>
</li>
<li>
<a href="/docs/opengraph/simpletypes/" name="http://developers.facebook.com/docs/opengraph/simpletypes/">Simple Types</a>
</li>
<li>
<a href="/docs/opengraph/complextypes/" name="http://developers.facebook.com/docs/opengraph/complextypes/">Complex Types</a>
</li>
<li>
<a href="/docs/opengraph/checklist/" name="http://developers.facebook.com/docs/opengraph/checklist/">Open Graph Checklist</a>
</li>
<li>
<a href="/docs/opengraph/publish-past-actions/" name="http://developers.facebook.com/docs/opengraph/publish-past-actions/">Publishing Past Actions</a>
</li>
<li>
<a href="/docs/opengraph/usergeneratedphotos/" name="http://developers.facebook.com/docs/opengraph/usergeneratedphotos/">User Generated Photos in Open Graph</a>
</li>
</ul>
</li>
<li>
<h5>Advanced</h5>
<ul>
<li>
<a href="/docs/opengraph/internationalization/" name="http://developers.facebook.com/docs/opengraph/internationalization/">Open Graph Internationalization</a>
</li>
<li>
<a href="/docs/opengraph/actionlinks/" name="http://developers.facebook.com/docs/opengraph/actionlinks/">Action Links</a>
</li>
<li>
<a href="/docs/opengraph/insights/" name="http://developers.facebook.com/docs/opengraph/insights/">Open Graph Insights</a>
</li>
<li>
<a href="/docs/opengraph/userrestrictions/" name="http://developers.facebook.com/docs/opengraph/userrestrictions/">User Restrictions</a>
</li>
<li>
<a href="/docs/opengraph/using-app-tokens/" name="http://developers.facebook.com/docs/opengraph/using-app-tokens/">Using App Access Tokens</a>
</li>
</ul>
</li>
<li>
<h5>Archive</h5>
<ul>
<li>
<a href="/docs/opengraphprotocol/" name="http://developers.facebook.com/docs/opengraphprotocol/">Open Graph Protocol</a>
</li>
</ul>
</li>
</ul></div>

<div id="oklahomer-content-wrapper">
<div class="header">
<div class="content">
<h1>Using Text Templates</h1>
<div class="breadcrumbs">
<a href="/docs/coreconcepts/" name="https://developers.facebook.com/docs/coreconcepts/">Core Concepts</a> › <a href="/docs/opengraph/" name="https://developers.facebook.com/docs/opengraph/">Open Graph</a> › <a href="/docs/opengraph/template/" name="https://developers.facebook.com/docs/opengraph/template/">Using Text Templates</a>
</div>
</div>
</div>
<p>Aggregations support a simple text template syntax for formatting Open Graph action / object properties into strings that a user sees. This template syntax supports <a href="/docs/opengraph/template/#formatters" name="https://developers.facebook.com/docs/opengraph/template/#formatters">Formatters</a> for different data types such as dates, times, currencies, etc., <a href="/docs/opengraph/template/#pluralization" name="https://developers.facebook.com/docs/opengraph/template/#pluralization">Pluralization</a> of display text and <a href="/docs/opengraph/template/#operators" name="https://developers.facebook.com/docs/opengraph/template/#operators">Operators</a> for simple mathematical computations. Text templates are specified between the <code>{...}</code> characters.</p>
<p>
<b>Aggregations Displaying Actions</b>
<br /> Within an aggregation where the <a href="/docs/opengraph/define-units/#contents" name="https://developers.facebook.com/docs/opengraph/define-units/#contents">Data to Display</a> is an action, the properties of an action type are referenced directly within the caption text using the syntax <code>{property-name}</code> while the properties of the connected object type are referenced using the syntax <code>{object-type.property-name}</code>.</p>
<p>Example: An aggregation displaying the &quot;Latest Listened Songs&quot; would have the <b>Listen</b> action as the <a href="/docs/opengraph/define-units/#contents" name="https://developers.facebook.com/docs/opengraph/define-units/#contents">Data to Display</a> with its <code>{start_time}</code> property referenced in the caption to denote when the listen action happened. The song title is then also referenced within the same caption using <code>{song.title}</code>. An artist name is referenced as <code>{musician.title}</code>, while the release date of an album is referenced as <code>{album.release_date}</code>.</p>
<p>
<b>Aggregations Displaying Objects</b>
<br /> The properties object type are referenced directly within the caption syntax as <code>{property-name}</code>. Example: An aggregation that displays the favorite songs of a user can reference the song title as simply <code>{title}</code>.</p>
<p>Additionally, properties may need to be formatted before showing them to the user, as often is the case with numbers and dates. This is possible by using <a href="/docs/opengraph/template/#formatters" name="https://developers.facebook.com/docs/opengraph/template/#formatters">Formatters</a>.</p>
<p>
<b>Referencing Properties within Nested Objects</b>
<br /> When a property being referenced is a nested object itself, its own second-level properties can be referenced as:<br />
<code>{property-name.second-level-property-name}</code>
</p>
<p>
<a name="formatters">
</a>
</p>
<div style="height: 3px;">
</div>
<hr />
<h2>Formatters</h2>
<p>Action type and Object type properties often need to be formatted before being shown to a user in Aggregated Stories. For example, a number of seconds or amount of money are formatted using colons or dollar signs.</p>
<p>Formatters are applied to a property by piping a property name into a formatter; up to three formatters can be chained together like:</p>
<p>
<code>{property-name | formatter-name}</code>
</p>
<p>Examples:</p>
<ul>
<li>
<p>Format the start_date of an action: <code>{start_date | date}</code>
</p>
</li>
<li>
<p>A run action has a elapsed_time property. Format the duration into a meaningful time: <code>{elapsed_time | duration}</code>
</p>
</li>
<li>
<p>A compile action points to a project object. Format the number of errors:<br />
<code>There {count | pluralize(“was”, “were”)} {count | pluralize(“no”, “one”, count)} error{count | pluralize(“s”)}</code>
</p>
</li>
</ul>
<table>
<tr>
<td>
<b>Formatter Name</b>
</td>
<td>
<b>Description</b>
</td>
</tr>
<tr>
<td>date</td>
<td>Format a DateTime into a readable date string. The default format is “D, F d, Y at g:ia”.<br />
<br /> Examples:<code>
<br /> {start_time} =&gt; Thursday, February 9, 2012 at 2:10pm<br /> {start_time | date} =&gt; Last Thursday<br /> {start_time | date(&quot;fb_absolute&quot;)} =&gt; July 24<br /> {start_time | date(&quot;fb_relative&quot;)} =&gt; One week ago<br />
</code>
<br /> Other acceptable date format strings are <a href="http://php.net/manual/en/function.date.php" name="http://php.net/manual/en/function.date.php" target="_blank">here</a>
</td>
</tr>
<tr>
<td>duration</td>
<td>Formats a field in seconds into the form <code>{hours}:{minutes}:{seconds}</code> or if no hours are available into <code>{minutes}:{seconds}</code>
<br />
<br /> Example: {run_duration | duration} <br />
<br /> run_duration = 42;<br />
<code>{run_duration | duration}</code> =&gt; 0:42<br />
<br /> run_duration = 360<br />
<code>{run_duration | duration}</code> =&gt; 6:00<br />
<br /> Supported Types: Integer / Float</td>
</tr>
<tr>
<td>currency</td>
<td>Formats a number into a string with two decimal points. Developers should add any currency markers like “$” in literal text.<br />
<br /> Example: {price | currency} <br /> price = 42<br />
<code>{price | currency}</code> =&gt; 42.00<br />
<br /> price = 1234.5678<br />
<code>{price | currency}</code> =&gt; 1234.56<br />
<br /> Supported Types: Integer / Float</td>
</tr>
<tr>
<td>fb_number_format</td>
<td>Supported Types: Integer</td>
</tr>
<tr>
<td>pluralize</td>
<td>See below.<br />
<br /> Supported Types: Integer</td>
</tr>
</table>
<p>
<a name="pluralization">
</a>
</p>
<div style="height: 3px;">
</div>
<hr />
<h2>Pluralization</h2>
<p>Sometimes, formatting needs to use a different word depending on whether a numeric value is equal to 0, 1, or 2+. A special “pluralize” formatter is available for this purpose and is used like:</p>
<p>
<code>numeric-value | pluralize(“{zero-string}”, “{one-string}”, “{many-string}”)</code>
</p>
<p>
<b>Example:</b>
<br />
<code>{integer | pluralize(&quot;no things&quot;, &quot;1 thing&quot;, &quot;value things&quot;)}</code>
</p>
<p>Note that “value” is a magic string that’s replaced with the number during formatting. In this case, if “integer” was 42, the user would see “42 things”.</p>
<p>
<b>Example:</b>
<br />
<code>There {count | pluralize(“was”, “were”)} {count | pluralize(“no”, “one”, count)} error{count | pluralize(“s”)}</code>
</p>
<ul>
<li>When count is 0, the display message is &quot;There was no error&quot;.</li>
<li>When count is 1, the display message is &quot;There was one error&quot;.</li>
<li>When count is 32, the display message is &quot;There were 32 errors&quot;.</li>
</ul>
<p>Note: up to three formatters can be chained together. More than this number is an error.</p>
<p>
<a name="operators">
</a>
</p>
<div style="height: 3px;">
</div>
<hr />
<h2>Operators</h2>
<p>Operators are used to do simple mathematical computation on a list of numerical data. For example, if a user has a set of “run” actions that are created from workouts, and those runs are displayed in a Aggregation, the longest run could be chosen with:</p>
<p>
<code>{course.distance | max}</code>
</p>
<p>Or, the amount of time a user has spent listening to songs can be computed with:</p>
<p>
<code>{song.duration | sum}</code>
</p>
<table>
<tr>
<td>
<b>Operator Name</b>
</td>
<td>
<b>Description</b>
</td>
</tr>
<tr>
<td>sum</td>
<td>Supported Types: Integer / Float</td>
</tr>
<tr>
<td>max</td>
<td>Supported Types: Integer / Float</td>
</tr>
<tr>
<td>min</td>
<td>Supported Types: Integer / Float</td>
</tr>
</table>
<p>
<br />
<br />
</p>
<div class="mtl pvm uiBoxWhite topborder">
<div class="mbm lfloat">
<fb:like href="http://developers.facebook.com/docs/opengraph/template/" send="true" show_faces="false">
</fb:like>
</div>
<div class="clear">
<abbr class="timestamp" data-utime="1331633081" title="2012年3月13日 3:04">2012年3月13日 3:04</abbr>
</div>
</div></div>

</body>
</html>
