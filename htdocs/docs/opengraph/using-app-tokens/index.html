<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>https://developers.facebook.com/docs/opengraph/using-app-tokens/</title>
<link rel="stylesheet" href="/css/common.css" media="screen" />
<script src="/js/common.js"></script>
</head>
<body>
<a id="oklahomer-orig-url" href="https://developers.facebook.com/docs/opengraph/using-app-tokens/">https://developers.facebook.com/docs/opengraph/using-app-tokens/</a>

<div id="oklahomer-menu-wrapper">
<div class="toplevelnav">
<ul>
<li>
<a href="/docs/" name="https://developers.facebook.com/docs/">
<div class="navSectionTitle">Getting Started</div>
</a>
</li>
<li class="active withsubsections">
<a class="selected" href="/docs/coreconcepts" name="https://developers.facebook.com/docs/coreconcepts">
<div class="navSectionTitle">Core Concepts</div>
</a>
<ul class="subsections">
<li>
<a href="/socialdesign" name="https://developers.facebook.com/socialdesign">Social Design</a>
</li>
<li>
<a href="/docs/plugins" name="https://developers.facebook.com/docs/plugins">Social Plugins</a>
</li>
<li>
<a href="/docs/opengraph" name="https://developers.facebook.com/docs/opengraph">Open Graph</a>
</li>
<li>
<a href="/docs/channels" name="https://developers.facebook.com/docs/channels">Social Channels</a>
</li>
<li>
<a href="/docs/authentication" name="https://developers.facebook.com/docs/authentication">Authentication</a>
</li>
<li>
<a href="/docs/reference/api" name="https://developers.facebook.com/docs/reference/api">Graph API</a>
</li>
</ul>
</li>
<li>
<a href="/docs/advancedtopics" name="https://developers.facebook.com/docs/advancedtopics">
<div class="navSectionTitle">Advanced Topics</div>
</a>
</li>
<li>
<a href="/docs/sdks" name="https://developers.facebook.com/docs/sdks">
<div class="navSectionTitle">SDK Reference</div>
</a>
</li>
<li>
<a href="/tools" name="https://developers.facebook.com/tools">
<div class="navSectionTitle">Tools</div>
</a>
</li>
</ul>
</div>
<ul id="navsubsectionpages">
<li>
</li>
<li>
<h5>Getting Started</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/opengraph/keyconcepts/" name="http://developers.facebook.com/docs/opengraph/keyconcepts/">Key Concepts</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/tutorial/" name="http://developers.facebook.com/docs/opengraph/tutorial/">Tutorial</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/authentication/" name="http://developers.facebook.com/docs/opengraph/authentication/">Auth Dialog</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/plugins/" name="http://developers.facebook.com/docs/opengraph/plugins/">Social Plugins</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/samples/" name="http://developers.facebook.com/docs/opengraph/samples/">Open Graph Samples</a>
</li>
</ul>
</li>
<li>
<h5>Open Graph Tool</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/opengraph/define-objects/" name="http://developers.facebook.com/docs/opengraph/define-objects/">Define Objects</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/define-actions/" name="http://developers.facebook.com/docs/opengraph/define-actions/">Define Actions</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/define-units/" name="http://developers.facebook.com/docs/opengraph/define-units/">Define Aggregations</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/opengraph-approval/" name="http://developers.facebook.com/docs/opengraph/opengraph-approval/">Submit for Approval</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/template/" name="http://developers.facebook.com/docs/opengraph/template/">Using Text Templates</a>
</li>
</ul>
</li>
<li>
<h5>Reference</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/opengraph/objects/" name="http://developers.facebook.com/docs/opengraph/objects/">Using Objects</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/actions/" name="http://developers.facebook.com/docs/opengraph/actions/">Using Actions</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/permissions/" name="http://developers.facebook.com/docs/opengraph/permissions/">Open Graph Permissions</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/objects/builtin/" name="http://developers.facebook.com/docs/opengraph/objects/builtin/">Built-in Object Types</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/actions/builtin/" name="http://developers.facebook.com/docs/opengraph/actions/builtin/">Built-in Action Types</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/simpletypes/" name="http://developers.facebook.com/docs/opengraph/simpletypes/">Simple Types</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/complextypes/" name="http://developers.facebook.com/docs/opengraph/complextypes/">Complex Types</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/checklist/" name="http://developers.facebook.com/docs/opengraph/checklist/">Open Graph Checklist</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/publish-past-actions/" name="http://developers.facebook.com/docs/opengraph/publish-past-actions/">Publishing Past Actions</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/usergeneratedphotos/" name="http://developers.facebook.com/docs/opengraph/usergeneratedphotos/">User Generated Photos in Open Graph</a>
</li>
</ul>
</li>
<li class="active">
<h5>Advanced</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/opengraph/internationalization/" name="http://developers.facebook.com/docs/opengraph/internationalization/">Open Graph Internationalization</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/actionlinks/" name="http://developers.facebook.com/docs/opengraph/actionlinks/">Action Links</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/insights/" name="http://developers.facebook.com/docs/opengraph/insights/">Open Graph Insights</a>
</li>
<li>
<a href="http://developers.facebook.com/docs/opengraph/userrestrictions/" name="http://developers.facebook.com/docs/opengraph/userrestrictions/">User Restrictions</a>
</li>
<li>
<a class="selected" href="http://developers.facebook.com/docs/opengraph/using-app-tokens/" name="http://developers.facebook.com/docs/opengraph/using-app-tokens/">Using App Access Tokens</a>
</li>
</ul>
</li>
<li>
<h5>Archive</h5>
<ul>
<li>
<a href="http://developers.facebook.com/docs/opengraphprotocol/" name="http://developers.facebook.com/docs/opengraphprotocol/">Open Graph Protocol</a>
</li>
</ul>
</li>
</ul></div>

<div id="oklahomer-content-wrapper">
<div class="header">
<div class="content">
<h1>Using App Access Tokens</h1>
<div class="breadcrumbs">
<a href="/docs/coreconcepts/" name="https://developers.facebook.com/docs/coreconcepts/">Core Concepts</a> › <a href="/docs/opengraph/" name="https://developers.facebook.com/docs/opengraph/">Open Graph</a> › <a href="/docs/opengraph/using-app-tokens/" name="https://developers.facebook.com/docs/opengraph/using-app-tokens/">Using App Access Tokens</a>
</div>
</div>
</div>
<p>If your app publishes on behalf of its users and requires an access token with no expiration time, you should use an App Access Token. An App Access Token is signed using your app secret and will not expire; it will be invalidated if you re-key/reset your application secret.</p>
<p>App Access Tokens should only be used when the posting functions are originated directly from your servers in order to keep them private to the app. For example, you should not publish using an App Access Token from within a native mobile app. Doing that could allow the user to obtain the App Access Token, which could then allow them to take actions on behalf of your app. Instead, you should have your native mobile app queue actions up with your server and then have your server publish the stories to Facebook using the App Access Token.</p>
<p>App Access Tokens are especially useful when publishing instances of “secure Open Graph actions”, Open Graph actions that should only be published by your app, such as achievements and game scores. In this specific example, a user is prevented from gaming his/her score by publishing fake scores/achievements using a user access token.</p>
<h3>Obtaining an App Access Token</h3>
<p>To obtain an App Access Token, invoke the following HTTP GET request</p>
<pre>
GET https://graph.facebook.com/oauth/access_token?
            client_id=YOUR_APP_ID
           &amp;client_secret=YOUR_APP_SECRET
           &amp;grant_type=client_credentials
</pre>
<p>The API will respond with a query-string formatted string of the form:</p>
<pre>
    access_token=YOUR_APP_ACCESS_TOKEN
</pre>
<p>You should parse this string to obtain the value of the <code>access_token</code> parameter, which will be your App Access Token, and store and reuse this token instead of regenerating it. An App Access Token does not expire unless you refresh the application secret through your <a href="/apps" name="https://developers.facebook.com/apps">app settings</a>.</p>
<h3>Making API Calls to Publish with an App Access Token</h3>
<p>You should be able to use an app access token to make API calls, in the form of POST requests, to publish information on behalf of the user, just as you would with a user access token.</p>
<p>Note that because you are not using a user access token, all calls to publish information on behalf of the user should reference <code>/[USER FB ID]</code> instead of <code>/me</code>.</p>
<p>For example, if the user has provided your app with the <code>publish_stream</code> permission, to publish a status update on behalf of the user using an App Access Token, invoke the following HTTP POST request</p>
<pre>
POST https://graph.facebook.com/4804827/feed?
             message=Post%20with%20app%20access%20token
            &amp;access_token=YOUR_APP_ACCESS_TOKEN
</pre>
<p>which in turn returns the ID of the status update post if the call is successful</p>
<pre>
{
  &quot;id&quot;: &quot;4804827_871793267189&quot;
}
</pre>
<p>Note that the app access token is for <strong>publishing</strong> purposes permitted by the <code>publish_actions</code> and <code>publish_stream</code> permissions. You will be unable to retrieve information about the status update post with the given ID using the app access token. Instead, you should use a user access token for such purposes.</p>
<p>If the user has not provided the appropriate permissions to publish on the user’s behalf, you will receive an error message. For example, if the user has not provided the <code>publish_stream</code> permission, the following error will be returned:</p>
<pre>
{
  &quot;error&quot;: {
    &quot;message&quot;: &quot;(#200) The user has not granted the application the permission to automatically publish feed stories&quot;, 
    &quot;type&quot;: &quot;OAuthException&quot;, 
    &quot;code&quot;: 200
  }
}
</pre>
<h3>Other Capabilities of an App Access Token</h3>
<p>While an App Access Token is largely for the purposes of publishing information back to Facebook on behalf of the user, there is a limited set of information that can be retrieved from Facebook using an App Access Token.</p>
<ul>
<li>Basic Profile Info of a User (ID, Name, Username, Gender)</li>
<li>A User’s Friends and their IDs</li>
<li>Permissions granted by the User to your App</li>
</ul>
<p>Another capability of the App Access Token is to use it to make Graph API calls that manage details of your application, such as modifying parameters of your app, creating and managing test users, and reading your application’s Insights data. For more information on this, please read the following documentation:</p>
<ul>
<li>
<a href="https://developers.facebook.com/docs/authentication/applications/" name="https://developers.facebook.com/docs/authentication/applications/">Authenticating as an App</a>
</li>
</ul>
<div class="mtl pvm uiBoxWhite topborder">
<div class="mbm lfloat">
<fb:like href="http://developers.facebook.com/docs/opengraph/using-app-tokens/" send="true" show_faces="false">
</fb:like>
</div>
<div class="clear">
<abbr class="timestamp" data-utime="1336418579" title="2012年5月7日 12:22">約1ヶ月前に更新</abbr>
</div>
</div></div>

</body>
</html>
